import 'package:gc_wizard/utils/common_utils.dart';

enum KeyboardMode{QWERTZ_T1, QWERTY_US_INT, Dvorak, Dvorak_II_DEU, RISTOME, NEO, COLEMAK, Dvorak_I_DEU1, Dvorak_I_DEU2}

Map QWERTZ_T1toNormal = {
  '°' : '101o', '!' : '102o', '"' : '103o', '§' : '104o', '\$' : '105o', '%' : '106o', '&' : '107o', '/' : '108o', '(' : '109o', ')' : '110o', '=' : '111o', '?' : '112o', '`' : '113o',
  '^' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', 'ß' : '112u', '`' : '113u',
  'Q' : '201o', 'W' : '202o', 'E' : '203o', 'R' : '204o', 'T'  : '205o', 'Z' : '206o', 'U' : '207o', 'I' : '208o', 'O' : '209o', 'P' : '210o', 'Ü' : '211o', '*' : '212o',
  'q' : "201u", 'w' : '202u', 'e' : '203u', 'r' : '204u', 't'  : '205u', 'z' : '206u', 'u' : '207u', 'i' : '208u', 'o' : '209u', 'p' : '210u', 'ü' : '211u', '+' : '212u',
  'A' : '301o', 'S' : '302o', 'D' : '303o', 'F' : '304o', 'G'  : '305o', 'H' : '306o', 'J' : '307o', 'K' : '308o', 'L' : '309o', 'Ö' : '310o', 'Ä' : '311o', "'" : '312o',
  'a' : '301u', 's' : '302u', 'd' : '303u', 'f' : '304u', 'g'  : '305u', 'h' : '306u', 'j' : '307u', 'k' : '308u', 'l' : '309u', 'ö' : '310u', 'ä' : '311u', '#' : '312u',
  '>' : '401o', 'Y' : '402o', 'X' : '403o', 'C' : '404o', 'V'  : '405o', 'B' : '406o', 'N' : '407o', 'M' : '408o', ';' : '409o', ':' : '410o', '_' : '411o',
  '<' : '401u', 'y' : '402u', 'x' : '403u', 'c' : '404u', 'v'  : '405u', 'b' : '406u', 'n' : '407u', 'm' : '408u', ',' : '409u', '.' : '410u', '-' : '411u',
  ' ' : '501',  ''  : ''
};
Map Dvorak_II_DEUtoNormal = {
  '°' : '101o', '!' : '102o', '"' : '103o', '§' : '104o', '\$' : '105o', '%' : '106o', '&' : '107o', '/' : '108o', '(' : '109o', ')' : '110o', '=' : '111o', '*' :  '112o', '>' : '113o',
  '^' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '+' :  '112u', '<`>' : '113u',
  'Ü' : '201o', ';' : '202o', ':' : '203o', 'P' : '204o', 'Y'  : '205o', 'F' : '206o', 'G' : '207o', 'C' : '208o', 'T' : '209o', 'Z' : '210o', 'ß' : '211o', '/' :  '212o',
  'ü' : "201u", ',' : '202u', '.' : '203u', 'p' : '204u', 'y'  : '205u', 'f' : '206u', 'g' : '207u', 'c' : '208u', 't' : '209u', 'z' : '210u', '?' : '211u', '\\' : '212u',
  'A' : '301o', 'O' : '302o', 'E' : '303o', 'I' : '304o', 'U'  : '305o', 'H' : '306o', 'D' : '307o', 'R' : '308o', 'N' : '309o', 'S' : '310o', 'L' : '311o', "_'" : '312o',
  'a' : '301u', 'o' : '302u', 'e' : '303u', 'i' : '304u', 'u'  : '305u', 'h' : '306u', 'd' : '307u', 'r' : '308u', 'n' : '309u', 's' : '310u', 'l' : '311u', '-' : '312u',
  'Ä' : '401o', 'Ö' : '402o', 'Q' : '403o', 'J' : '404o', 'K'  : '405o', 'X' : '406o', 'B' : '407o', 'M' : '408o', 'W' : '409o', 'V' : '410o', '#' : '411o',
  'ä' : '401u', 'ö' : '402u', 'q' : '403u', 'j' : '404u', 'k'  : '405u', 'x' : '406u', 'b' : '407u', 'm' : '408u', 'w' : '409u', 'v' : '410u', "'" : '411u',
  ' ' : '501',  ''  : ''
};
Map Dvorak_I_DEU1toNormal = {
  '°' : '101o', '!' : '102o', '"' : '103o', '§' : '104o', '\$' : '105o', '%' : '106o', '&' : '107o', '/' : '108o', '(' : '109o', ')' : '110o', '=' : '111o', '*' :  '112o', '>' : '113o',
  '^' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '+' :  '112u', '<`>' : '113u',
  'Ä' : '201o', ';' : '202o', ':' : '203o', 'P' : '204o', 'Y'  : '205o', 'F' : '206o', 'G' : '207o', 'C' : '208o', 'R' : '209o', 'L' : '210o', 'Q' : '211o', '/' :  '212o',
  'ä' : "201u", ',' : '202u', '.' : '203u', 'p' : '204u', 'y'  : '205u', 'f' : '206u', 'g' : '207u', 'c' : '208u', 'r' : '209u', 'l' : '210u', 'q' : '211u', '\\' : '212u',
  'A' : '301o', 'O' : '302o', 'E' : '303o', 'U' : '304o', 'I'  : '305o', 'D' : '306o', 'H' : '307o', 'T' : '308o', 'N' : '309o', 'S' : '310o', '?' : '311o', "Q'" : '312o',
  'a' : '301u', 'o' : '302u', 'e' : '303u', 'u' : '304u', 'i'  : '305u', 'd' : '306u', 'h' : '307u', 't' : '308u', 'n' : '309u', 's' : '310u', 'ß' : '311u', 'q' : '312u',
  '_' : '401o', 'Ö' : '402o', 'Ü' : '403o', 'J' : '404o', 'K'  : '405o', 'X' : '406o', 'B' : '407o', 'M' : '408o', 'W' : '409o', 'V' : '410o', 'Z' : '411o',
  '-' : '401u', 'ö' : '402u', 'ü' : '403u', 'j' : '404u', 'k'  : '405u', 'x' : '406u', 'b' : '407u', 'm' : '408u', 'w' : '409u', 'v' : '410u', "z" : '411u',
  ' ' : '501',  ''  : ''
};
Map Dvorak_I_DEU2toNormal = {
  '°' : '101o', '!' : '102o', '"' : '103o', '§' : '104o', '\$' : '105o', '%' : '106o', '&' : '107o', '/' : '108o', '(' : '109o', ')' : '110o', '=' : '111o', '*' :  '112o', '>' : '113o',
  '^' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '+' :  '112u', '<`>' : '113u',
  'Ä' : '201o', 'Ö' : '202o', 'Ü' : '203o', 'P' : '204o', 'Y'  : '205o', 'F' : '206o', 'G' : '207o', 'C' : '208o', 'R' : '209o', 'L' : '210o', 'Q' : '211o', '/' :  '212o',
  'ä' : "201u", 'ö' : '202u', 'ü' : '203u', 'p' : '204u', 'y'  : '205u', 'f' : '206u', 'g' : '207u', 'c' : '208u', 'r' : '209u', 'l' : '210u', 'q' : '211u', '\\' : '212u',
  'A' : '301o', 'O' : '302o', 'E' : '303o', 'U' : '304o', 'I'  : '305o', 'D' : '306o', 'H' : '307o', 'T' : '308o', 'N' : '309o', 'S' : '310o', '?' : '311o', "Q'" : '312o',
  'a' : '301u', 'o' : '302u', 'e' : '303u', 'u' : '304u', 'i'  : '305u', 'd' : '306u', 'h' : '307u', 't' : '308u', 'n' : '309u', 's' : '310u', 'ß' : '311u', 'q' : '312u',
  '_' : '401o', ':' : '402o', ';' : '403o', 'J' : '404o', 'K'  : '405o', 'X' : '406o', 'B' : '407o', 'M' : '408o', 'W' : '409o', 'V' : '410o', 'Z' : '411o',
  '-' : '401u', '.' : '402u', ',' : '403u', 'j' : '404u', 'k'  : '405u', 'x' : '406u', 'b' : '407u', 'm' : '408u', 'w' : '409u', 'v' : '410u', "z" : '411u',
  ' ' : '501',  ''  : ''
};
Map NeoToNormal = {
                '°' : '102o', '§' : '103o',               '>' : '105o', '<' : '106o', '\$' : '107o', '€' : '108o',                             '"' : '111o', '_' : '112o',
                '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '-' : '112u', '`' : '113u',
  'X' : '201o', 'V' : '202o', 'L' : '203o', 'C' : '204o', 'W'  : '205o', 'K' : '206o', 'H' : '207o', 'G' : '208o', 'F' : '209o', 'Q' : '210o', 'ß' : '211o',
  'x' : "201u", 'v' : '202u', 'l' : '203u', 'c' : '204u', 'w'  : '205u', 'k' : '206u', 'h' : '207u', 'g' : '208u', 'f' : '209u', 'q' : '210u', 'ß' : '211u', '´' : '212u',
  'U' : '301o', 'I' : '302o', 'A' : '303o', 'E' : '304o', 'O'  : '305o', 'S' : '306o', 'N' : '307o', 'R' : '308o', 'T' : '309o', 'D' : '310o', 'Y' : '311o',
  'u' : '301u', 'i' : '302u', 'a' : '303u', 'e' : '304u', 'o'  : '305u', 's' : '306u', 'n' : '307u', 'r' : '308u', 't' : '309u', 'd' : '310u', 'y' : '311u',
                'Ü' : '402o', 'Ö' : '403o', 'Ä' : '404o', 'P'  : '405o', 'Z' : '406o', 'B' : '407o', 'M' : '408o', '-' : '409o',               'J' : '411o',
                'ü' : '402u', 'ö' : '403u', 'ä' : '404u', 'p'  : '405u', 'z' : '406u', 'b' : '407u', 'm' : '408u', ',' : '409u', '.' : '410u', 'j' : '411u',
  ' ' : '501',  ''  : ''
};
Map RistomeToNormal = {
  '°' : '101o', '!' : '102o', '"' : '103o', '§' : '104o', '\$' : '105o', '%' : '106o', '&' : '107o', '/' : '108o', '(' : '109o', ')' : '110o', '=' : '111o', '?' : '112o',
  '^' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', 'ß' : '112u',
  'Q' : '201o', 'P' : '202o', 'R' : '203o', 'O' : '204o', 'C'  : '205o', 'B' : '206o', 'T' : '207o', 'D' : '208o', 'W' : '209o', 'L' : '210o', 'Ö' : '211o', '*' : '212o',
  'q' : "201u", 'p' : '202u', 'r' : '203u', 'o' : '204u', 'c'  : '205u', 'b' : '206u', 't' : '207u', 'd' : '208u', 'w' : '209u', 'l' : '210u', 'ö' : '211u', '+' : '212u',
  'Z' : '301o', 'L' : '302o', 'A' : '303o', 'N' : '304o', 'I'  : '305o', 'U' : '306o', 'E' : '307o', 'H' : '308o', 'S' : '309o', 'F' : '310o', 'Y' : '311o', "'" : '312o',
  'z' : '301u', 'l' : '302u', 'a' : '303u', 'n' : '304u', 'i'  : '305u', 'u' : '306u', 'e' : '307u', 'h' : '308u', 's' : '309u', 'f' : '310u', 'y' : '311u', '#' : '312u',
  '>' : '401o', 'X' : '402o', 'V' : '403o', 'G' : '404o', 'M'  : '405o', 'K' : '406o', 'Ä' : '407o', 'Ü' : '408o', '?' : '409o', ';' : '410o', ':' : '411o',
  '<' : '401u', 'x' : '402u', 'v' : '403u', 'g' : '404u', 'm'  : '405u', 'k' : '406u', 'ä' : '407u', 'ü' : '408u', 'ß' : '409u', ',' : '410u', '.' : '411u',
  ' ' : '501',  ''  : ''
};

Map QWERTY_US_INTtoNormal = {
  '~' : '101o', '!' : '102o', '@' : '103o', '#' : '104o', '\$' : '105o', '%' : '106o', '^' : '107o', '&' : '108o', '*' : '109o', '(' : '110o', ')' : '111o', '_' : '112o', '+' : '113o',
  '`' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '-' : '112u', '=' : '113u',
  'Q' : '201o', 'W' : '202o', 'E' : '203o', 'R' : '204o', 'T'  : '205o', 'Y' : '206o', 'U' : '207o', 'I' : '208o', 'O' : '209o', 'P' : '210o', 'Ü' : '211o', '*' : '212o', '|' : '213o',
  'q' : "201u", 'w' : '202u', 'e' : '203u', 'r' : '204u', 't'  : '205u', 'y' : '206u', 'u' : '207u', 'i' : '208u', 'o' : '209u', 'p' : '210u', 'ü' : '211u', '+' : '212u', '\\': '213u',
  'A' : '301o', 'S' : '302o', 'D' : '303o', 'F' : '304o', 'G'  : '305o', 'H' : '306o', 'J' : '307o', 'K' : '308o', 'L' : '309o', ':' : '310o', '"' : '311o',
  'a' : '301u', 's' : '302u', 'd' : '303u', 'f' : '304u', 'g'  : '305u', 'h' : '306u', 'j' : '307u', 'k' : '308u', 'l' : '309u', ';' : '310u', "'" : '311u',
                'Z' : '402o', 'X' : '403o', 'C' : '404o', 'V'  : '405o', 'B' : '406o', 'N' : '407o', 'M' : '408o', '<' : '409o', '>' : '410o', '?' : '411o',
                'z' : '402u', 'x' : '403u', 'c' : '404u', 'v'  : '405u', 'b' : '406u', 'n' : '407u', 'm' : '408u', ',' : '409u', '.' : '410u', '/' : '411u',
  ' ' : '501',  ''  : ''
};
Map DvoraktoNormal = {
  '~' : '101o', '!' : '102o', '@' : '103o', '#' : '104o', '\$' : '105o', '%' : '106o', '^' : '107o', '&' : '108o', '*' : '109o', '(' : '110o', ')' : '111o', '{' : '112o', '}' : '113o',
  '`' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '[' : '112u', ']' : '113u',
  '"' : '201o', '<' : '202o', '>' : '203o', 'P' : '204o', 'Y'  : '205o', 'F' : '206o', 'G' : '207o', 'C' : '208o', 'R' : '209o', 'L' : '210o', '?' : '211o', '+' : '212o', '|' : '213o',
  "'" : "201u", ',' : '202u', '.' : '203u', 'p' : '204u', 'y'  : '205u', 'f' : '206u', 'g' : '207u', 'c' : '208u', 'r' : '209u', 'l' : '210u', '/' : '211u', '=' : '212u', '\\': '213u',
  'A' : '301o', 'O' : '302o', 'E' : '303o', 'U' : '304o', 'I'  : '305o', 'D' : '306o', 'H' : '307o', 'T' : '308o', 'N' : '309o', 'S' : '310o', '"' : '311o',
  'a' : '301u', 'o' : '302u', 'e' : '303u', 'u' : '304u', 'i'  : '305u', 'd' : '306u', 'h' : '307u', 't' : '308u', 'n' : '309u', 's' : '310u', "'" : '311u',
  ':' : '402o', 'Q' : '403o', 'J' : '404o', 'K'  : '405o', 'X' : '406o', 'B' : '407o', 'M' : '408o', 'W' : '409o', 'V' : '410o', 'Z' : '411o',
  ';' : '402u', 'q' : '403u', 'j' : '404u', 'k'  : '405u', 'x' : '406u', 'b' : '407u', 'm' : '408u', 'w' : '409u', 'v' : '410u', 'z' : '411u',
  ' ' : '501',  ''  : ''
};
Map ColemakToNormal = {
  '~' : '101o', '!' : '102o', '@' : '103o', '#' : '104o', '\$' : '105o', '%' : '106o', '^' : '107o', '&' : '108o', '*' : '109o', '(' : '110o', ')' : '111o', '_' : '112o', '+' : '113o',
  '`' : '101u', '1' : '102u', '2' : '103u', '3' : '104u', '4'  : '105u', '5' : '106u', '6' : '107u', '7' : '108u', '8' : '109u', '9' : '110u', '0' : '111u', '-' : '112u', '=' : '113u',
  'Q' : '201o', 'W' : '202o', 'F' : '203o', 'P' : '204o', 'G'  : '205o', 'J' : '206o', 'L' : '207o', 'U' : '208o', 'Y' : '209o', ':' : '210o', '{' : '211o', '}' : '212o', '|' : '213o',
  "q" : "201u", 'w' : '202u', 'f' : '203u', 'p' : '204u', 'g'  : '205u', 'j' : '206u', 'l' : '207u', 'u' : '208u', 'y' : '209u', ';' : '210u', '[' : '211u', ']' : '212u', '\\': '213u',
  'A' : '301o', 'R' : '302o', 'S' : '303o', 'T' : '304o', 'D'  : '305o', 'H' : '306o', 'N' : '307o', 'E' : '308o', 'I' : '309o', 'O' : '310o', '"' : '311o',
  'a' : '301u', 'r' : '302u', 's' : '303u', 't' : '304u', 'd'  : '305u', 'h' : '306u', 'n' : '307u', 'e' : '308u', 'i' : '309u', 'o' : '310u', "'" : '311u',
  'Z' : '402o', 'X' : '403o', 'C' : '404o', 'V'  : '405o', 'B' : '406o', 'K' : '407o', 'M' : '408o', '<' : '409o', '>' : '410o', '?' : '411o',
  'z' : '402u', 'x' : '403u', 'c' : '404u', 'v'  : '405u', 'b' : '406u', 'k' : '407u', 'm' : '408u', ',' : '409u', '.' : '410u', '/' : '411u',
  ' ' : '501',  ''  : ''
};

Map NormalToQWERTZ_T1 = switchMapKeyValue(QWERTZ_T1toNormal);
Map NormalToQWERTY_US_INT = switchMapKeyValue(QWERTY_US_INTtoNormal);
Map NormalToDvorak = switchMapKeyValue(DvoraktoNormal);
Map NormalToDvorak_II_DEU = switchMapKeyValue(Dvorak_II_DEUtoNormal);
Map NormalToDvorak_I_DEU1 = switchMapKeyValue(Dvorak_I_DEU1toNormal);
Map NormalToDvorak_I_DEU2 = switchMapKeyValue(Dvorak_I_DEU2toNormal);
Map NormalToRistome = switchMapKeyValue(RistomeToNormal);
Map NormalToColemak = switchMapKeyValue(ColemakToNormal);
Map NormalToNeo = switchMapKeyValue(NeoToNormal);


String encodeKeyboard(String input, KeyboardMode keyboardFrom, keyboardTo){
  Map mapFrom;
  Map mapTo;

  if (input == null || input == '')
    return '' ;

  switch (keyboardFrom) {
    case KeyboardMode.RISTOME : mapFrom = RistomeToNormal; break;
    case KeyboardMode.Dvorak_II_DEU : mapFrom = Dvorak_II_DEUtoNormal; break;
    case KeyboardMode.Dvorak : mapFrom = DvoraktoNormal; break;
    case KeyboardMode.QWERTY_US_INT : mapFrom = QWERTY_US_INTtoNormal; break;
    case KeyboardMode.QWERTZ_T1 : mapFrom = QWERTZ_T1toNormal; break;
    case KeyboardMode.COLEMAK : mapFrom = ColemakToNormal; break;
    case KeyboardMode.Dvorak_I_DEU1 : mapFrom = Dvorak_I_DEU2toNormal; break;
    case KeyboardMode.Dvorak_I_DEU2 : mapFrom = Dvorak_I_DEU1toNormal; break;
    case KeyboardMode.NEO : mapFrom = NeoToNormal; break;
  }
  switch (keyboardTo) {
    case KeyboardMode.RISTOME : mapTo = NormalToRistome; break;
    case KeyboardMode.Dvorak_II_DEU : mapTo = NormalToDvorak_II_DEU; break;
    case KeyboardMode.Dvorak : mapTo = NormalToDvorak; break;
    case KeyboardMode.QWERTY_US_INT : mapTo = NormalToQWERTY_US_INT; break;
    case KeyboardMode.QWERTZ_T1 : mapTo = NormalToQWERTZ_T1; break;
    case KeyboardMode.COLEMAK : mapTo = NormalToColemak; break;
    case KeyboardMode.Dvorak_I_DEU1 : mapTo = NormalToDvorak_I_DEU2; break;
    case KeyboardMode.Dvorak_I_DEU2 : mapTo = NormalToDvorak_I_DEU1; break;
    case KeyboardMode.NEO : mapTo = NormalToNeo; break;
  }

  return input.split('')
              .map((character) {
                  var norm = mapFrom[character];
                  return norm != null ? mapTo[norm] : '';
                })
              .join('');
}
